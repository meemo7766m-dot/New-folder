# ุฏููู ุงูุงุฎุชุจุงุฑ ุงูุดุงูู ููููุฒุงุช ุงูุซูุงุซ ุงูุฌุฏูุฏุฉ

## ูุธุฑุฉ ุนุงูุฉ
ูุฐุง ุงูุฏููู ูุบุทู ุงุฎุชุจุงุฑ ุงูููุฒุงุช ุงูุซูุงุซ ุงูุชู ุชู ุชุทููุฑูุง ุญุฏูุซุงู:
1. **ูุธุงู ุฏุนู ุงููุณุงุฆุท** - ุชุญููู ุงูุตูุฑ ูุงูููุฏูููุงุช
2. **ุงูุจุญุซ ุจุงูุตูุฑ** - ุงูุจุญุซ ุนู ุณูุงุฑุงุช ูุดุงุจูุฉ
3. **ุงูุชูุงูู ูุน ุงูุฌูุงุช ุงูุฃูููุฉ** - ูุดุงุฑูุฉ ุงูุจูุงุบุงุช ูุน ุงูุฌูุงุช ุงูุฃูููุฉ

---

## 1๏ธโฃ ูุธุงู ุฏุนู ุงููุณุงุฆุท

### ุงููููุงุช ุงููุชุนููุฉ:
- **Database**: `media_and_security_system.sql` - ุฌุฏูู `media` ู `Supabase Storage`
- **Component**: `src/components/MediaUploader.jsx` - ูููู ุชุญููู ุงููุณุงุฆุท
- **Utils**: ูุง ุชูุฌุฏ utility service ูููุตูุฉ - ุงูุชุญููู ูุชู ูุจุงุดุฑุฉ ูู ุงููููู

### ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ:

#### 1.1: ุงุฎุชุจุงุฑ ุชุญููู ุงูุตูุฑ
```
1. ุงุณุชูุฑุงุฏ MediaUploader ูู ุงูุตูุญุฉ ุงููุทููุจุฉ
2. ุชูุฑูุฑ props: `carId`, `onMediaAdded` (ุงุฎุชูุงุฑู)
3. ุงูููุฑ ุนูู ุฒุฑ "ุงุฎุชุฑ ูุณุงุฆุท"
4. ุงุฎุชูุงุฑ ุตูุฑ ุจุตูุบ ูุฏุนููุฉ (JPG, PNG, GIF, WebP)
5. ุงูุชุญูู ูู:
   โ ุธููุฑ ุงูุตูุฑุฉ ูู ุงููุนุงููุฉ
   โ ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก ูู Console
   โ ุญูุธ ุงูุจูุงูุงุช ูู ุฌุฏูู `media`
   โ ุชุฎุฒูู ุงูููู ูู `supabase/media` bucket
```

#### 1.2: ุงุฎุชุจุงุฑ ุชุญููู ุงูููุฏูููุงุช
```
1. ููุณ ุงูุฎุทูุงุช ุฃุนูุงู ููู ูุน ููุฏูููุงุช (MP4, WebM)
2. ุงูุชุญูู ูู:
   โ ุนุฑุถ ุฃููููุฉ ุงูููุฏูู ูู ุงููุนุงููุฉ
   โ ุฅููุงููุฉ ุชุดุบูู ุงูููุฏูู
```

#### 1.3: ุงุฎุชุจุงุฑ ุงูุญุฐู
```
1. ุจุนุฏ ุชุญููู ูููุ ุงูููุฑ ุนูู ุฒุฑ โ
2. ุงูุชุญูู ูู:
   โ ุญุฐู ุงูููู ูู Supabase Storage
   โ ุญุฐู ุงูุณุฌู ูู ุฌุฏูู `media`
   โ ุงุฎุชูุงุก ุงููุนุงููุฉ ูู ุงููุงุฌูุฉ
```

#### 1.4: ุงุฎุชุจุงุฑ ูู ChatBot
```
1. ูุชุญ ChatBot
2. ุงูููุฑ ุนูู ุฒุฑ ๐ (ุงูุตูุฑ)
3. ุงุฎุชูุงุฑ ุตูุฑุฉ ุฃู ููุฏูู
4. ุงูุชุญูู ูู:
   โ ุนุฑุถ ุงููุณูุท ูู ุงูุฏุฑุฏุดุฉ
   โ ุฑุฏ ุฐูู ูู ุงูุจูุช (media_upload intent)
```

---

## 2๏ธโฃ ุงูุจุญุซ ุจุงูุตูุฑ

### ุงููููุงุช ุงููุชุนููุฉ:
- **Component**: `src/components/ImageSearch.jsx` - ูุงุฌูุฉ ุงูุจุญุซ
- **Utils**: `src/utils/imageSearchService.js` - ููุทู ุงูุจุญุซ ูุงูุชุญููู
- **Database**: `car_colors` table - ุชุฎุฒูู ุชุญููู ุงูุฃููุงู

### ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ:

#### 2.1: ุงุฎุชุจุงุฑ ุงุณุชุฎุฑุงุฌ ุงูุฃููุงู
```
1. ูุชุญ ุตูุญุฉ ImageSearch
2. ุชุญููู ุตูุฑุฉ ุณูุงุฑุฉ
3. ุงูุชุญูู ูู:
   โ ุธููุฑ ูุนุงููุฉ ุงูุตูุฑุฉ
   โ ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก CORS
   โ ุธููุฑ ูุณู "ุงูุฃููุงู ุงูููุชุดูุฉ" (ุชุญุช ุงูุตูุฑุฉ)
```

#### 2.2: ุงุฎุชุจุงุฑ ุงูุจุญุซ ุงูุฃุณุงุณู
```
1. ุจุนุฏ ุชุญููู ุงูุตูุฑุฉุ ุงูููุฑ ุนูู "ุงุจุฏุฃ ุงูุจุญุซ"
2. ุงูุชุญูู ูู:
   โ ุธููุฑ loading indicator
   โ ุนุฑุถ ุงููุชุงุฆุฌ ูู ุดุจูุฉ
   โ ุนุฑุถ ุชูุงูู ุงูุฃููุงู (%)
   โ ุนุฏู ุธููุฑ ุฃู ุฃุฎุทุงุก ูู Console
```

#### 2.3: ุงุฎุชุจุงุฑ ุงูููุชุฑุฉ ุญุณุจ ุงููุงุฑูุฉ
```
1. ุฅุฏุฎุงู ูุงุฑูุฉ (ูุซู: Toyota)
2. ุงูููุฑ ุนูู "ุงุจุฏุฃ ุงูุจุญุซ"
3. ุงูุชุญูู ูู:
   โ ุนุฑุถ ูุชุงุฆุฌ ุชุญุชูู ุนูู ุงููุงุฑูุฉ ุงููุญุฏุฏุฉ ููุท
   โ ุชุตููุฉ ุงููุชุงุฆุฌ ุงูุตุญูุญุฉ
```

#### 2.4: ุงุฎุชุจุงุฑ ุงูุฃููุงู ุงููุฎุชููุฉ
```
1. ุงุฎุชุจุงุฑ ุตูุฑ ุจุฃููุงู ูุฎุชููุฉ (ุฃุญูุฑุ ุฃุฒุฑูุ ุฃุณูุฏุ ุฅูุฎ)
2. ุงูุชุญูู ูู:
   โ ุชุญููู ุฏููู ููุฃููุงู
   โ ุชุฑุชูุจ ุงูุฃููุงู ุญุณุจ ุงูุฃูููุฉ (ุงููุณุจุฉ ุงููุฆููุฉ)
   โ ุชูุงูู ุงููุชุงุฆุฌ ูุน ุฃููุงู ุงูุณูุงุฑุงุช ุงููุญููุธุฉ
```

#### 2.5: ุงุฎุชุจุงุฑ ุนุฏู ูุฌูุฏ ูุชุงุฆุฌ
```
1. ุชุญููู ุตูุฑุฉ ุจุฃููุงู ูุงุฏุฑุฉ
2. ุงูุจุญุซ ุจุฏูู ูุชุงุฆุฌ ูุชุทุงุจูุฉ
3. ุงูุชุญูู ูู:
   โ ุธููุฑ ุฑุณุงูุฉ "ูู ูุชู ุงูุนุซูุฑ ุนูู ุณูุงุฑุงุช"
   โ ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก
```

---

## 3๏ธโฃ ุงูุชูุงูู ูุน ุงูุฌูุงุช ุงูุฃูููุฉ

### ุงููููุงุช ุงููุชุนููุฉ:
- **Component**: `src/components/SecurityIntegration.jsx` - ูุงุฌูุฉ ุงูุฅุฏุงุฑุฉ
- **Utils**: `src/utils/securityIntegrationService.js` - API ูุงูุนูููุงุช
- **Database**: 
  - `security_agencies` - ุจูุงูุงุช ุงูุฌูุงุช ุงูุฃูููุฉ
  - `case_shares` - ุชุชุจุน ุงููุดุงุฑูุงุช

### ุฎุทูุงุช ุงูุงุฎุชุจุงุฑ:

#### 3.1: ุฅุนุฏุงุฏ ุฌูุงุช ุฃูููุฉ (ููุงุฎุชุจุงุฑ)
```
ุฅุฏุฑุงุฌ ุฌูุฉ ุฃูููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:

INSERT INTO public.security_agencies (name, code, region, country, is_active)
VALUES (
  'ุดุฑุทุฉ ุงููุฏููุฉ',
  'PD_TEST_001',
  'ุงูุฑูุงุถ',
  'ุงูุณุนูุฏูุฉ',
  true
);
```

#### 3.2: ุงุฎุชุจุงุฑ ุงููุดุงุฑูุฉ ุงูุฃุณุงุณูุฉ
```
1. ูุชุญ ุตูุญุฉ ูุน SecurityIntegration component
2. ุชูุฑูุฑ `carId` ูุจูุงูุงุช ุงูุณูุงุฑุฉ
3. ุงูููุฑ ุนูู "ุดุงุฑู ูุน ุฌูุฉ ุฃูููุฉ"
4. ุงุฎุชูุงุฑ ุฌูุฉ ูู ุงููุงุฆูุฉ
5. ุงูุชุญูู ูู:
   โ ุฅูุดุงุก ุณุฌู ูู ุฌุฏูู `case_shares`
   โ ุชุนููู ุงูุญุงูุฉ ุงูุฃูููุฉ (pending)
   โ ุธููุฑ ุฑุณุงูุฉ ูุฌุงุญ
```

#### 3.3: ุงุฎุชุจุงุฑ ุชุญุฏูุซ ุงูุญุงูุฉ
```
1. ุจุนุฏ ุงููุดุงุฑูุฉุ ุณุชุธูุฑ ุงูุญุงูุฉ ูู ูุงุฆูุฉ "ุงูุจูุงุบุงุช ุงููุดุงุฑูุฉ"
2. ุชุบููุฑ ุงูุญุงูุฉ ูู "ููุฏ ุงูุงูุชุธุงุฑ" ุฅูู "ูุดุงุฑู"
3. ุงูุชุญูู ูู:
   โ ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ููุฑุงู
   โ ุธููุฑ ุงูุญุงูุฉ ุงูุฌุฏูุฏุฉ ูู ุงููุงุฌูุฉ
   โ ุนุฏู ูุฌูุฏ ุฃุฎุทุงุก
```

#### 3.4: ุงุฎุชุจุงุฑ ุนุฏู ูุฌูุฏ ุฌูุงุช ูุชุตูุฉ
```
1. ุญุฐู ุฌููุน ุงูุฌูุงุช ุงูุฃูููุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
2. ูุชุญ ุงููุงุฌูุฉ
3. ุงูููุฑ ุนูู "ุดุงุฑู ูุน ุฌูุฉ ุฃูููุฉ"
4. ุงูุชุญูู ูู:
   โ ุธููุฑ ุฑุณุงูุฉ "ูุง ุชูุฌุฏ ุฌูุงุช ุฃูููุฉ ูุชุตูุฉ ุญุงููุงู"
   โ ุนุฏู ุธููุฑ ูุงุฆูุฉ ุงูุฌูุงุช
```

#### 3.5: ุงุฎุชุจุงุฑ API Integration (ูุณุชูุจูู)
```
ูุฐู ุงูููุฒุฉ ุฌุงูุฒุฉ ููุชุทููุฑ ุงููุณุชูุจูู:

1. ุชุญุฏูุฏ API endpoint ููุฌูุฉ ุงูุฃูููุฉ
2. ุฅุถุงูุฉ API key
3. ุงุณุชุฏุนุงุก `syncWithExternalAPI()`
4. ุงูุชุญูู ูู:
   โ ุฅุฑุณุงู ุงูุจูุงูุงุช ุจุดูู ุตุญูุญ
   โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
   โ ุญูุธ ID ุงูุญุงูุฉ ุงูุฎุงุฑุฌู
```

---

## ๐งช ุงุฎุชุจุงุฑ ุงูุชูุงูู ุงูุดุงูู

### ุงูุณููุงุฑูู 1: ุงูุชุฏูู ุงููุงูู
```
1. ุชุญููู ุตูุฑุฉ ุณูุงุฑุฉ ูู ChatBot (๐)
2. ูุชุญ ุตูุญุฉ ุงูุจุญุซ ุจุงูุตูุฑ
3. ุชุญููู ููุณ ุงูุตูุฑุฉ ูุงูุจุญุซ
4. ุนุฑุถ ุงููุชุงุฆุฌ ูุน ุชูุงูู ุงูุฃููุงู
5. ุงุฎุชูุงุฑ ุฅุญุฏู ุงูุณูุงุฑุงุช
6. ูุดุงุฑูุฉ ุงูุจูุงุบ ูุน ุฌูุฉ ุฃูููุฉ
7. ุชุญุฏูุซ ุญุงูุฉ ุงููุดุงุฑูุฉ

โ ูุฌุจ ุฃู ุชุนูู ุฌููุน ุงูุฎุทูุงุช ุจุณูุงุณุฉ ุจุฏูู ุฃุฎุทุงุก
```

### ุงูุณููุงุฑูู 2: ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
```
1. ูุญุงููุฉ ุชุญููู ููู ูุจูุฑ ุฌุฏุงู
2. ูุญุงููุฉ ุชุญููู ููู ุบูุฑ ูุฏุนูู
3. ูุทุน ุงูุงุชุตุงู ุฃุซูุงุก ุงูุชุญููู
4. ุฅุฑุณุงู ุตูุฑุฉ ุชุงููุฉ

โ ูุฌุจ ุนุฑุถ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ
โ ูุง ูุฌุจ ุฃู ูุชุนุทู ุงูุชุทุจูู
```

---

## ๐ ูุงุฆูุฉ ุงูุชุญูู ุงูููุงุฆูุฉ

- [ ] ุชุญููู ุงูุตูุฑ ูุงูููุฏูููุงุช ูุนูู ุจุดูู ุตุญูุญ
- [ ] ุงููููุงุช ุชูุญูุธ ูู Supabase Storage
- [ ] ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชูุญุฏุซ ุจุดูู ุตุญูุญ
- [ ] ุงูุจุญุซ ุจุงูุตูุฑ ููุชุดู ุงูุฃููุงู ุจุฏูุฉ
- [ ] ูุชุงุฆุฌ ุงูุจุญุซ ุชุธูุฑ ุจุดูู ุตุญูุญ
- [ ] ุงููุดุงุฑูุฉ ูุน ุงูุฌูุงุช ุงูุฃูููุฉ ุชุนูู
- [ ] ุชุญุฏูุซ ุงูุญุงูุฉ ูุนูู ุจุดูู ุตุญูุญ
- [ ] ุฑุณุงุฆู ุงูุฎุทุฃ ูุงุถุญุฉ ููููุฏุฉ
- [ ] ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู Console
- [ ] ุงููุงุฌูุฉ ูุณุชุฌูุจุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู

---

## ๐ง ูุนูููุงุช ุฅุถุงููุฉ

### ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุทููุจุฉ
```sql
-- ุชุดุบูู ููู media_and_security_system.sql
-- ูุฅูุดุงุก ุฌููุน ุงูุฌุฏุงูู ูุงูุณูุงุณุงุช ุงููุทููุจุฉ
```

### Supabase Buckets ุงููุทููุจุฉ
- `media` - ููุตูุฑ ูุงูููุฏูููุงุช ุงูุนุงูุฉ
- `evidence` - ููุฃุฏูุฉ ุงูุฎุงุตุฉ (ูุณุชูุจู)

### ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ
```
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_anon_key
```
